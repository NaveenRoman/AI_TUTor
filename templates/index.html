<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>KnowledgeStream ‚Äì Cosmic Edition</title>

<script src="https://cdn.tailwindcss.com"></script>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">

<style>
body{
    margin:0;
    font-family:'Inter',sans-serif;
    background:#000;
    color:white;
    overflow-x:hidden;
}

/* ================= HERO ================= */
#hero-section{
    position:relative;
    min-height:85vh; /* ‚¨ÖÔ∏è reduced */
    display:flex;
    align-items:center;
    justify-content:center;
    background:radial-gradient(circle at center,#0b102a 0%,#000 70%);
    overflow:hidden;
}

/* ================= STATIC WIREFRAME GLOBE ================= */
.globe-wrapper{
    position:absolute;
    top:50%;
    left:50%;
    width:420px;
    height:420px;
    transform:translate(-50%,-50%);
    z-index:1;
}

.globe{
    width:100%;
    height:100%;
}

.globe .grid ellipse,
.globe .grid path{
    fill:none;
    stroke:#22c55e;
    stroke-width:1.3;
    opacity:.85;
}

/* ================= HERO TEXT ================= */
#hero-text{
    position:relative;
    z-index:5;
    text-align:center;
}

/* ================= SEARCH ================= */
#search-container{
    position:relative;
    max-width:640px;
    margin:1.8rem auto 0;
}
#search-input{
    width:100%;
    padding:1rem 1.4rem;
    padding-right:4.5rem;
    font-size:1.1rem;
    background:rgba(15,23,42,.85);
    border:2px solid #38bdf8;
    border-radius:16px;
    color:white;
}
#search-button{
    position:absolute;
    right:.8rem;
    top:50%;
    transform:translateY(-50%);
    background:none;
    border:none;
    font-size:1.4rem;
    color:#38bdf8;
    cursor:pointer;
}

/* ================= BOOK SECTION ================= */
#book-types-section{
    background:#0d111c;
    border-radius:28px;
    max-width:95%;
    margin:-6rem auto 3rem auto; /* ‚¨ÖÔ∏è PULLED UP */
    padding:3.5rem;
    border:2px solid #1f2937;
    position:relative;
    z-index:10;
}

.book-type-card{
    background:rgba(255,255,255,.06);
    backdrop-filter:blur(12px);
    border-radius:22px;
    padding:30px;
    text-align:center;
    transition:.3s;
}
.book-type-card:hover{
    transform:translateY(-10px);
}

.book-type-card .icon{
    font-size:3.4rem;
    margin-bottom:14px;
}
.book-type-card h3{
    font-size:1.45rem;
    font-weight:800;
}
.book-type-card p{
    opacity:.75;
    margin-bottom:18px;
}

.view-index-link{
    display:inline-flex;
    padding:12px 22px;
    border-radius:999px;
    background:#1e40af;
    font-weight:700;
}

/* Borders */
.border-law{border-bottom:4px solid #818cf8;}
.border-java{border-bottom:4px solid #f97316;}
.border-android{border-bottom:4px solid #22c55e;}
.border-python{border-bottom:4px solid #facc15;}

@media(max-width:768px){
    .globe-wrapper{
        width:260px;
        height:260px;
    }
    #book-types-section{
        margin-top:-3rem; /* mobile safe */
    }
}
</style>
</head>

<body>
<header class="bg-black/80 backdrop-blur-lg text-white sticky top-0 z-50 shadow-xl border-b border-gray-800">
    <div class="max-w-7xl mx-auto px-8 py-6 flex items-center justify-between">

        <!-- LOGO -->
        <a href="{% url 'index' %}"
           class="text-4xl font-extrabold tracking-tight text-sky-400 hover:text-sky-300 transition">
            KnowledgeStream
        </a>

        <!-- NAVIGATION -->
        <nav class="hidden md:flex items-center gap-10 text-lg font-medium">

            <a href="{% url 'index' %}" class="hover:text-sky-400 transition">
                Home
            </a>

            <a href="{% url 'categories' %}" class="hover:text-sky-400 transition">
                Categories
            </a>

            <a href="{% url 'ai_tutor' %}" class="hover:text-sky-400 transition">
                AI Chat
            </a>

            <!-- üé§ AI INTERVIEW CTA -->
            <a href="{% url 'interview' %}">
                <button
                    class="bg-gradient-to-r from-indigo-500 to-indigo-600
                           hover:from-indigo-600 hover:to-indigo-700
                           text-white font-extrabold
                           px-6 py-3 rounded-2xl
                           shadow-lg hover:shadow-indigo-500/40
                           transition transform hover:scale-105">
                    üé§ Start AI Interview
                </button>
            </a>

            <a href="{% url 'dashboard' %}" class="hover:text-sky-400 transition">
                Dashboard
            </a>

            <a href="{% url 'my_profile' %}" class="hover:text-sky-400 transition">
                Profile
            </a>

            <a href="{% url 'contact' %}" class="hover:text-sky-400 transition">
                Contact
            </a>

        </nav>
    </div>
</header>


<!-- HERO -->
<section id="hero-section">

    <div class="globe-wrapper">
        <svg class="globe" viewBox="0 0 500 500">
            <g class="grid">
                <ellipse cx="250" cy="250" rx="200" ry="200"/>
                <ellipse cx="250" cy="250" rx="200" ry="60"/>
                <ellipse cx="250" cy="250" rx="200" ry="120"/>
                <ellipse cx="250" cy="250" rx="60" ry="200"/>
                <ellipse cx="250" cy="250" rx="120" ry="200"/>
                <ellipse cx="250" cy="250" rx="160" ry="200"/>
            </g>
            <g class="grid">
                <path d="M250 50 C350 250 350 250 250 450"/>
                <path d="M250 50 C150 250 150 250 250 450"/>
                <path d="M250 50 C420 250 420 250 250 450"/>
                <path d="M250 50 C80 250 80 250 250 450"/>
            </g>
        </svg>
    </div>

    <div id="hero-text">
        <h1 class="text-5xl sm:text-7xl font-extrabold text-sky-300 mb-6">
            KnowledgeStream<br/>Voyage Beyond Earth
        </h1>
        <p class="text-xl text-gray-300 max-w-3xl mx-auto">
            Explore the infinite cosmos of learning üöÄ
        </p>

       
    </div>
</section>

<!-- BOOK TYPES -->
<section id="book-types-section">
    <h2 class="text-4xl font-extrabold mb-12 text-center">
        Select a Book Type
    </h2>

    <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
        <div class="book-type-card border-law">
            <div class="icon">‚öñ</div>
            <h3>Law</h3>
            <p>2 articles</p>
            <a href="law.html" class="view-index-link">View Index ‚Üí</a>
        </div>

        <div class="book-type-card border-java">
            <div class="icon">‚òï</div>
            <h3>Java</h3>
            <p>21 articles</p>
            <a href="{% url 'books' %}?subject=java" class="view-index-link">View Index ‚Üí</a>
        </div>

        <div class="book-type-card border-android">
            <div class="icon">ü§ñ</div>
            <h3>Android</h3>
            <p>1 article</p>
            <a href="android.html" class="view-index-link">View Index ‚Üí</a>
        </div>

        <div class="book-type-card border-python">
            <div class="icon">üêç</div>
            <h3>Python</h3>
            <p>20 articles</p>
           <a href="{% url 'books' %}?subject=python" class="view-index-link">
    View Index ‚Üí
</a>

        </div>
    </div>
</section>

<footer class="text-center text-gray-400 py-10 border-t border-gray-800">
    ¬© 2025 KnowledgeStream ‚Äî Illuminating the Universe of Knowledge üå†
</footer>

<script>
function getCookie(name) {
    let cookieValue = null;
    if (document.cookie && document.cookie !== '') {
        const cookies = document.cookie.split(';');
        for (let i = 0; i < cookies.length; i++) {
            const cookie = cookies[i].trim();
            if (cookie.startsWith(name + '=')) {
                cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                break;
            }
        }
    }
    return cookieValue;
}



const searchBtn = document.getElementById('search-button');
const searchInput = document.getElementById('search-input');

if (searchBtn && searchInput) {
    searchBtn.addEventListener('click', () => {
        const q = searchInput.value.trim();
        if (q) {
            location.href = `https://www.google.com/search?q=${encodeURIComponent(q)}`;
        }
    });

    searchInput.addEventListener('keydown', e => {
        if (e.key === 'Enter') searchBtn.click();
    });
}


const markBtn = document.getElementById('mark-complete-btn');

if (markBtn) {
    markBtn.addEventListener('click', () => {
        fetch("/api/topic-complete/", {
            method: "POST",
            headers: {
                "Content-Type": "application/json",
                "X-CSRFToken": getCookie("csrftoken")
            },
            body: JSON.stringify({
                subject: "java",
                topic: "java-topic1"
            })
        })
        .then(res => res.json())
        .then(data => {
            if (data.success) {
                window.location.href = "/books/?subject=java";
            } else {
                alert(data.error || "Failed to save progress");
            }
        })
        .catch(() => alert("Network error"));
    });
}

</script>

</body>
</html>
